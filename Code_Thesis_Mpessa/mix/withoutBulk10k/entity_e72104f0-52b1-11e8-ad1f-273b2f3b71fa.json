{
  "datasourceIdentifier" : "awesome wiki export",
  "backlink" : "http://en.wikipedia.org/?curid=8328",
  "eid" : "e72104f0-52b1-11e8-ad1f-273b2f3b71fa",
  "loadTime" : 1525778467519,
  "textBody" : "In vector calculus, divergence is a vector operator that produces a scalar field, giving the quantity of a vector field's source at each point. More technically, the divergence represents the volume density of the outward flux of a vector field from an infinitesimal volume around a given point.\n\nAs an example, consider air as it is heated or cooled. The velocity of the air at each point defines a vector field. While air is heated in a region, it expands in all directions, and thus the velocity field points outward from that region. The divergence of the velocity field in that region would thus have a positive value. While the air is cooled and thus contracting, the divergence of the velocity has a negative value.\n\nPhysical interpretation of divergence \n\nIn physical terms, the divergence of a three-dimensional vector field is the extent to which the vector field flow behaves like a source at a given point. It is a local measure of its \"outgoingness\" – the extent to which there is more of some quantity exiting an infinitesimal region of space than entering it. If the divergence is nonzero at some point then there must be a source or sink at that position. (Note that we are imagining the vector field to be like the velocity vector field of a fluid (in motion) when we use the terms flow, source and so on.)\n\nMore rigorously, the divergence of a vector field  at a point  can be defined as the limit of the net flow of  across the smooth boundary of a three-dimensional region  divided by the volume of  as  shrinks to . Formally,\n\n\\left. \\operatorname{div} \\mathbf{F} \\right|_p = \\lim_{V \\rightarrow \\{p\\}} \\iint_{S(V)} \\frac{\\mathbf{F}\\cdot\\mathbf{\\hat n}} \\, dS \n\nwhere  is the volume of ,  is the boundary of , and the integral is a surface integral with  being the outward unit normal to that surface. The result, , is a function of . From this definition it also becomes obvious that  can be seen as the source density of the flux of .\n\nIn light of the physical interpretation, a vector field with zero divergence everywhere is called incompressible or solenoidal – in which case any closed surface has no net flow across it.\n\nThe intuition that the sum of all sources minus the sum of all sinks should give the net flow outwards of a region is made precise by the divergence theorem.\n\nDefinition  \n\nCartesian coordinates\n\nLet , ,  be a system of Cartesian coordinates in 3-dimensional Euclidean space, and let , ,  be the corresponding basis of unit vectors. The divergence of a continuously differentiable vector field  is defined as the scalar-valued function:\n\n\\operatorname{div} \\mathbf{F} \\nabla\\cdot\\mathbf{F} \n \\left( \\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y}, \\frac{\\partial}{\\partial z} \\right) \\cdot (U,V,W) = \\frac{\\partial U}{\\partial x} + \\frac{\\partial V}{\\partial y} + \\frac{\\partial W}{\\partial z}.\n\nAlthough expressed in terms of coordinates, the result is invariant under rotations, as the physical interpretation suggests. This is because the trace of the Jacobian matrix of an -dimensional vector field  in -dimensional space is invariant under any invertible linear transformation.\n\nThe common notation for the divergence  is a convenient mnemonic, where the dot denotes an operation reminiscent of the dot product: take the components of the  operator (see del), apply them to the corresponding components of , and sum the results. Because applying an operator is different from multiplying the components, this is considered an abuse of notation.\n\nThe divergence of a continuously differentiable second-order tensor field  is a first-order tensor field:\n\n\\overrightarrow{\\operatorname{div}} (\\boldsymbol{\\varepsilon}) = \\begin{bmatrix}\n\\dfrac{\\partial \\varepsilon_{xx}}{\\partial x} +\\dfrac{\\partial \\varepsilon_{yx}}{\\partial y} +\\dfrac{\\partial \\varepsilon_{zx}}{\\partial z} \\\\[6pt]\n\\dfrac{\\partial \\varepsilon_{xy}}{\\partial x} +\\dfrac{\\partial \\varepsilon_{yy}}{\\partial y} +\\dfrac{\\partial \\varepsilon_{zy}}{\\partial z} \\\\[6pt]\n\\dfrac{\\partial \\varepsilon_{xz}}{\\partial x} +\\dfrac{\\partial \\varepsilon_{yz}}{\\partial y} +\\dfrac{\\partial \\varepsilon_{zz}}{\\partial z}\n\\end{bmatrix}\n\nCylindrical coordinates \n\nFor a vector expressed in local unit cylindrical coordinates as\n\\mathbf{F} = \\mathbf{e}_r F_r + \\mathbf{e}_\\theta F_\\theta + \\mathbf{e}_z F_z,\nwhere  is the unit vector in direction , the divergence is\n\\operatorname{div} \\mathbf F \\nabla\\cdot\\mathbf F \n \\frac1r \\frac{\\partial}{\\partial r} \\left(rF_r\\right) + \\frac1r \\frac{\\partial F_\\theta}{\\partial\\theta} + \\frac{\\partial F_z}{\\partial z}\\, .\n\nThe use of local coordinates is vital for the validity of the expression. If we consider  the position vector and the functions r(\\mathbf{x}), \\theta(\\mathbf{x}), and z(\\mathbf{x}), which assign the corresponding global cylindrical coordinate to a vector, in general  r(\\mathbf{F}(\\mathbf{x}))\\neq F_r(\\mathbf{x}),  \\theta(\\mathbf{F}(\\mathbf{x}))\\neq F_{\\theta}(\\mathbf{x}), and  z(\\mathbf{F}(\\mathbf{x}))\\neq F_z(\\mathbf{x}). In particular, if we consider the identity function  \\mathbf{F}(\\mathbf{x})= \\mathbf{x}, we find that:\n\n \\theta(\\mathbf{F}(\\mathbf{x})) \\theta \\neq F_{\\theta}(\\mathbf{x}) \n 0.\n\nSpherical coordinates \n\nIn spherical coordinates, with  the angle with the  axis and  the rotation around the  axis, and \\mathbf{F} again written in local unit coordinates, the divergence is\n\\operatorname{div}\\mathbf{F} \\nabla\\cdot\\mathbf F \n \\frac1{r^2} \\frac{\\partial}{\\partial r}\\left(r^2 F_r\\right) + \\frac1{r\\sin\\theta} \\frac{\\partial}{\\partial \\theta} (\\sin\\theta\\, F_\\theta) + \\frac1{r\\sin\\theta} \\frac{\\partial F_\\varphi}{\\partial \\varphi}.\n\nGeneral coordinates \n\nUsing Einstein notation we can consider the divergence in  general coordinates, which we write as , where  is the number of dimensions of the domain. Here, the upper index refers to the number of the coordinate or component, so  refers to the second component, and not the quantity  squared. The index variable  is used to refer to an arbitrary element, such as . The divergence can then be written via the [https://www.genealogy.math.ndsu.nodak.edu/id.php?id=59087 Voss]- Weyl formula, as:\n\n \\operatorname{div}(\\mathbf{F}) = \\frac{1}{\\rho} \\frac{\\partial \\left(\\rho\\, F^i\\right)}{\\partial x^i}\n\nwhere \\rho is the local coefficient of the volume element and  are the components of  with respect to the local unnormalized covariant basis (sometimes written as \\mathbf{e}_i  = \\frac{\\partial\\mathbf{x}}{\\partial x^i} ). The Einstein notation implies summation over , since it appears as both an upper and lower index.\n\nThe volume coefficient \\rho is a function of position which depends on the coordinate system. In Cartesian, cylindrical and polar coordinates, \\rho1, r,  and r^2\\sin{\\theta} respectively, using the same conventions as above. It can also be expressed as \\rho\n\\sqrt{\\operatorname{det}g_{ab}}, where g_{ab} is the metric tensor. Since the determinant is a scalar quantity which doesn't depend on the indices, we can suppress them and simply write \\rho\\sqrt{\\operatorname{det}g}. Another expression comes from computing the determinant of the Jacobian for transforming from Cartesian coordinates, which for n\n3 gives \\rho=\\left |\\frac{\\partial(x,y,z)}{\\partial (x^1,x^2,x^3)}\\right|.\n\nSome conventions expect all local basis elements to be normalized to unit length, as was done in the previous sections. If we write \\hat{\\mathbf{e}}_i for the normalized basis, and \\hat{F}^i for the components of  with respect to it, we have that \n\\mathbf{F}F^i \\, \\mathbf{e}_i \n\nF^i {\\lVert{\\mathbf{e}_i }\\rVert } \\, \\frac{\\mathbf{e}_i}{\\lVert{\\mathbf{e}_i }\\rVert }F^i {\\sqrt{g_{ii}}} \\, \\hat{\\mathbf{e}}_i\n\n\\hat{F}^i  \\, \\hat{\\mathbf{e}}_i, using one of the properties of the metric tensor. By dotting both sides of the last equality with the contravariant element \\hat{\\mathbf{e}}^i, we can conclude that F^i=\\frac{\\hat{F}^i}{\\sqrt{g_{ii}}}. After  substituting, the formula becomes:\n\n \\operatorname{div}(\\mathbf{F}) \\frac1{\\rho} \\frac{\\partial \\left(\\frac{\\rho}{\\sqrt{g_{ii}}}\\, \\hat{F}^i\\,\\right)}{\\partial x^i} \n\n \\frac1{\\sqrt{\\operatorname{det}g}} \\frac{\\partial \\left(\\sqrt{\\frac{\\operatorname{det}g}{g_{ii}} }\\, \\hat{F}^i\\,\\right)}{\\partial x^i}\n.\n\nSee  Generalizations for further discussion.\n\nDecomposition theorem\n\nIt can be shown that any stationary flux  that is at least twice continuously differentiable in  and vanishes sufficiently fast for  can be decomposed into an irrotational part  and a source-free part . Moreover, these parts are explicitly determined by the respective source densities (see above) and circulation densities (see the article Curl):\n\nFor the irrotational part one has\n\n \\mathbf E=-\\nabla \\Phi(\\mathbf r)\\, ,\nwith\n\\Phi (\\mathbf{r})=\\int_{\\mathbb R^3}\\,d^3\\mathbf r'\\;\\frac{\\operatorname{div} \\mathbf{v}(\\mathbf{r}')}{4\\pi\\left|\\mathbf{r}-\\mathbf{r}'\\right|}\\,.\n\nThe source-free part, , can be similarly written: one only has to replace the scalar potential  by a vector potential  and the terms  by , and the source density \nby the circulation density .\n\nThis \"decomposition theorem\" is a by-product of the stationary case of electrodynamics. It is a special case of the more general Helmholtz decomposition which works in dimensions greater than three as well.\n\nProperties \n\nThe following properties can all be derived from the ordinary differentiation rules of calculus. Most importantly, the divergence is a linear operator, i.e.\n\n\\operatorname{div}( a\\mathbf{F} + b\\mathbf{G} ) = a \\operatorname{div} \\mathbf{F} + b \\operatorname{div} \\mathbf{G}\n\nfor all vector fields  and  and all real numbers  and .\n\nThere is a product rule of the following type: if  is a scalar-valued function and  is a vector field, then\n\n\\operatorname{div}(\\varphi \\mathbf{F}) = \\operatorname{grad} \\varphi \\cdot \\mathbf{F} + \\varphi \\operatorname{div} \\mathbf{F}, \n\nor in more suggestive notation\n\n\\nabla\\cdot(\\varphi \\mathbf{F}) = (\\nabla\\varphi) \\cdot \\mathbf{F} + \\varphi (\\nabla\\cdot\\mathbf{F}). \n\nAnother product rule for the cross product of two vector fields  and  in three dimensions involves the curl and reads as follows:\n\n\\operatorname{div}(\\mathbf{F}\\times\\mathbf{G}) = \\operatorname{curl} \\mathbf{F} \\cdot\\mathbf{G} - \\mathbf{F} \\cdot \\operatorname{curl} \\mathbf{G},\n\nor\n\n\\nabla\\cdot(\\mathbf{F}\\times\\mathbf{G}) = (\\nabla\\times\\mathbf{F})\\cdot\\mathbf{G} - \\mathbf{F}\\cdot(\\nabla\\times\\mathbf{G}).\n\nThe Laplacian of a scalar field is the divergence of the field's gradient:\n\\operatorname{div}(\\nabla\\varphi) = \\Delta\\varphi.\n\nThe divergence of the curl of any vector field (in three dimensions) is equal to zero: \n\\nabla\\cdot(\\nabla\\times\\mathbf{F})=0\n\nIf a vector field  with zero divergence is defined on a ball in , then there exists some vector field  on the ball with . For regions in  more topologically complicated than this, the latter statement might be false (see Poincaré lemma). The degree of failure of the truth of the statement, measured by the homology of the chain complex\n\n \\{ \\text{scalar fields on } U \\} ~ \\overset{\\operatorname{grad}}{\\rarr} ~ \\{ \\text{vector fields on } U \\} ~ \\overset{\\operatorname{curl}}{\\rarr} ~ \\{ \\text{vector fields on } U \\} ~ \\overset{\\operatorname{div}}{\\rarr} ~ \\{ \\text{scalar fields on } U \\}\n\nserves as a nice quantification of the complicatedness of the underlying region . These are the beginnings and main motivations of de Rham cohomology.\n\nRelation with the exterior derivative\n\nOne can express the divergence as a particular case of the exterior derivative, which takes a 2-form to a 3-form in . Define the current two-form as\n j = F_1 \\, {\\rm d} y \\wedge {\\rm d} z + F_2 \\, {\\rm d} z \\wedge {\\rm d} x + F_3 \\, {\\rm d} x \\wedge {\\rm d} y .\nIt measures the amount of \"stuff\" flowing through a surface per unit time in a \"stuff fluid\" of density  moving with local velocity . Its exterior derivative  is then given by\n {\\rm d} j \\left( \\frac{\\partial F_1}{\\partial x} +\\frac{\\partial F_2}{\\partial y} +\\frac{\\partial F_3}{\\partial z} \\right) {\\rm d}x \\wedge {\\rm d}y \\wedge {\\rm d}z \n ( \\nabla \\cdot {\\mathbf F} ) \\rho .\n\nThus, the divergence of the vector field  can be expressed as:\n \\nabla \\cdot {\\mathbf F} = {\\star} {\\rm d} {\\star} \\big( {\\mathbf F}^\\flat \\big) .\nHere the superscript  is one of the two musical isomorphisms, and  is the Hodge dual. Working with the current two-form and the exterior derivative is usually easier than working with the vector field and divergence, because unlike the divergence, the exterior derivative commutes with a change of (curvilinear) coordinate system.\n\nGeneralizations\n\nThe divergence of a vector field can be defined in any number of dimensions. If \n \\mathbf{F} = ( F_1 , F_2 , \\ldots F_n ) ,\n\nin a Euclidean coordinate system with coordinates , define\n\n\\operatorname{div} \\mathbf{F} \\nabla\\cdot\\mathbf{F} \n \\frac{\\partial F_1}{\\partial x_1} + \\frac{\\partial F_2}{\\partial x_2} + \\cdots + \\frac{\\partial F_n}{\\partial x_n}. \nThe appropriate expression is more complicated in curvilinear coordinates.\n\nIn the case of one dimension,  reduces to a regular function, and the divergence reduces to the derivative.\n\nFor any , the divergence is a linear operator, and it satisfies the \"product rule\"\n\n\\nabla\\cdot(\\varphi \\mathbf{F}) = (\\nabla\\varphi) \\cdot \\mathbf{F} + \\varphi (\\nabla\\cdot\\mathbf{F}) \n\nfor any scalar-valued function .\n\nThe divergence of a vector field extends naturally to any differentiable manifold of dimension  that has a volume form (or density) , e.g. a Riemannian or Lorentzian manifold. Generalising the construction of a two-form for a vector field on , on such a manifold a vector field  defines an -form  obtained by contracting  with . The divergence is then the function defined by\n\n {\\rm d} j = ( \\operatorname{div} X ) \\mu .\n\nStandard formulas for the Lie derivative allow us to reformulate this as\n\n {\\mathcal L}_X \\mu = ( \\operatorname{div} X ) \\mu .\n\nThis means that the divergence measures the rate of expansion of a volume element as we let it flow with the vector field.\n\nOn a pseudo-Riemannian manifold, the divergence with respect to the metric volume form can be computed in terms of the Levi-Civita connection :\n\n \\operatorname{div} X \\nabla \\cdot X \n {X^a}_{;a} ,\n\nwhere the second expression is the contraction of the vector field valued 1-form  with itself and the last expression is the traditional coordinate expression from Ricci calculus.\n\nAn equivalent expression without using connection is\n\n \\operatorname{div}(X) = \\frac{1}{\\sqrt{\\operatorname{det} g}} \\partial_a \\left(\\sqrt{\\operatorname{det} g} \\, X^a\\right),\n\nwhere  is the metric and  denotes the partial derivative with respect to coordinate .\n\nDivergence can also be generalised to tensors. In Einstein notation, the divergence of a contravariant vector  is given by\n\n \\nabla \\cdot \\mathbf{F} = \\nabla_\\mu F^\\mu ,\n\nwhere  denotes the covariant derivative.\n\nEquivalently, some authors define the divergence of a mixed tensor by using the musical isomorphism : if  is a -tensor ( for the contravariant vector and  for the covariant one), then we define the divergence of  to be the -tensor\n\n ( \\operatorname{div} T ) ( Y_1 , \\ldots , Y_{q-1}) = {\\operatorname{trace}} \\Big( X \\mapsto \\sharp ( \\nabla T ) ( X , \\cdot , Y_1 , \\ldots , Y_{q-1} ) \\Big) ;\n\nthat is, we take the trace over the first two covariant indices of the covariant derivative",
  "entityProperties" : [ {
    "name" : "title",
    "type" : "String",
    "values" : [ "Divergence" ],
    "synthetic" : false
  }, {
    "name" : "url",
    "type" : "String",
    "values" : [ "http://en.wikipedia.org/?curid=8328" ],
    "synthetic" : false
  } ],
  "classifications" : [ "xml-export" ],
  "technicalAttributes" : {
    "technicalAttributes" : null,
    "aggregatedText" : "In vector calculus, divergence is a vector operator that produces a scalar field, giving the quantity of a vector field's source at each point. More technically, the divergence represents the volume density of the outward flux of a vector field from an infinitesimal volume around a given point.\n\nAs an example, consider air as it is heated or cooled. The velocity of the air at each point defines a vector field. While air is heated in a region, it expands in all directions, and thus the velocity field points outward from that region. The divergence of the velocity field in that region would thus have a positive value. While the air is cooled and thus contracting, the divergence of the velocity has a negative value.\n\nPhysical interpretation of divergence \n\nIn physical terms, the divergence of a three-dimensional vector field is the extent to which the vector field flow behaves like a source at a given point. It is a local measure of its \"outgoingness\" – the extent to which there is more of some quantity exiting an infinitesimal region of space than entering it. If the divergence is nonzero at some point then there must be a source or sink at that position. (Note that we are imagining the vector field to be like the velocity vector field of a fluid (in motion) when we use the terms flow, source and so on.)\n\nMore rigorously, the divergence of a vector field  at a point  can be defined as the limit of the net flow of  across the smooth boundary of a three-dimensional region  divided by the volume of  as  shrinks to . Formally,\n\n\\left. \\operatorname{div} \\mathbf{F} \\right|_p = \\lim_{V \\rightarrow \\{p\\}} \\iint_{S(V)} \\frac{\\mathbf{F}\\cdot\\mathbf{\\hat n}} \\, dS \n\nwhere  is the volume of ,  is the boundary of , and the integral is a surface integral with  being the outward unit normal to that surface. The result, , is a function of . From this definition it also becomes obvious that  can be seen as the source density of the flux of .\n\nIn light of the physical interpretation, a vector field with zero divergence everywhere is called incompressible or solenoidal – in which case any closed surface has no net flow across it.\n\nThe intuition that the sum of all sources minus the sum of all sinks should give the net flow outwards of a region is made precise by the divergence theorem.\n\nDefinition  \n\nCartesian coordinates\n\nLet , ,  be a system of Cartesian coordinates in 3-dimensional Euclidean space, and let , ,  be the corresponding basis of unit vectors. The divergence of a continuously differentiable vector field  is defined as the scalar-valued function:\n\n\\operatorname{div} \\mathbf{F} \\nabla\\cdot\\mathbf{F} \n \\left( \\frac{\\partial}{\\partial x}, \\frac{\\partial}{\\partial y}, \\frac{\\partial}{\\partial z} \\right) \\cdot (U,V,W) = \\frac{\\partial U}{\\partial x} + \\frac{\\partial V}{\\partial y} + \\frac{\\partial W}{\\partial z}.\n\nAlthough expressed in terms of coordinates, the result is invariant under rotations, as the physical interpretation suggests. This is because the trace of the Jacobian matrix of an -dimensional vector field  in -dimensional space is invariant under any invertible linear transformation.\n\nThe common notation for the divergence  is a convenient mnemonic, where the dot denotes an operation reminiscent of the dot product: take the components of the  operator (see del), apply them to the corresponding components of , and sum the results. Because applying an operator is different from multiplying the components, this is considered an abuse of notation.\n\nThe divergence of a continuously differentiable second-order tensor field  is a first-order tensor field:\n\n\\overrightarrow{\\operatorname{div}} (\\boldsymbol{\\varepsilon}) = \\begin{bmatrix}\n\\dfrac{\\partial \\varepsilon_{xx}}{\\partial x} +\\dfrac{\\partial \\varepsilon_{yx}}{\\partial y} +\\dfrac{\\partial \\varepsilon_{zx}}{\\partial z} \\\\[6pt]\n\\dfrac{\\partial \\varepsilon_{xy}}{\\partial x} +\\dfrac{\\partial \\varepsilon_{yy}}{\\partial y} +\\dfrac{\\partial \\varepsilon_{zy}}{\\partial z} \\\\[6pt]\n\\dfrac{\\partial \\varepsilon_{xz}}{\\partial x} +\\dfrac{\\partial \\varepsilon_{yz}}{\\partial y} +\\dfrac{\\partial \\varepsilon_{zz}}{\\partial z}\n\\end{bmatrix}\n\nCylindrical coordinates \n\nFor a vector expressed in local unit cylindrical coordinates as\n\\mathbf{F} = \\mathbf{e}_r F_r + \\mathbf{e}_\\theta F_\\theta + \\mathbf{e}_z F_z,\nwhere  is the unit vector in direction , the divergence is\n\\operatorname{div} \\mathbf F \\nabla\\cdot\\mathbf F \n \\frac1r \\frac{\\partial}{\\partial r} \\left(rF_r\\right) + \\frac1r \\frac{\\partial F_\\theta}{\\partial\\theta} + \\frac{\\partial F_z}{\\partial z}\\, .\n\nThe use of local coordinates is vital for the validity of the expression. If we consider  the position vector and the functions r(\\mathbf{x}), \\theta(\\mathbf{x}), and z(\\mathbf{x}), which assign the corresponding global cylindrical coordinate to a vector, in general  r(\\mathbf{F}(\\mathbf{x}))\\neq F_r(\\mathbf{x}),  \\theta(\\mathbf{F}(\\mathbf{x}))\\neq F_{\\theta}(\\mathbf{x}), and  z(\\mathbf{F}(\\mathbf{x}))\\neq F_z(\\mathbf{x}). In particular, if we consider the identity function  \\mathbf{F}(\\mathbf{x})= \\mathbf{x}, we find that:\n\n \\theta(\\mathbf{F}(\\mathbf{x})) \\theta \\neq F_{\\theta}(\\mathbf{x}) \n 0.\n\nSpherical coordinates \n\nIn spherical coordinates, with  the angle with the  axis and  the rotation around the  axis, and \\mathbf{F} again written in local unit coordinates, the divergence is\n\\operatorname{div}\\mathbf{F} \\nabla\\cdot\\mathbf F \n \\frac1{r^2} \\frac{\\partial}{\\partial r}\\left(r^2 F_r\\right) + \\frac1{r\\sin\\theta} \\frac{\\partial}{\\partial \\theta} (\\sin\\theta\\, F_\\theta) + \\frac1{r\\sin\\theta} \\frac{\\partial F_\\varphi}{\\partial \\varphi}.\n\nGeneral coordinates \n\nUsing Einstein notation we can consider the divergence in  general coordinates, which we write as , where  is the number of dimensions of the domain. Here, the upper index refers to the number of the coordinate or component, so  refers to the second component, and not the quantity  squared. The index variable  is used to refer to an arbitrary element, such as . The divergence can then be written via the [https://www.genealogy.math.ndsu.nodak.edu/id.php?id=59087 Voss]- Weyl formula, as:\n\n \\operatorname{div}(\\mathbf{F}) = \\frac{1}{\\rho} \\frac{\\partial \\left(\\rho\\, F^i\\right)}{\\partial x^i}\n\nwhere \\rho is the local coefficient of the volume element and  are the components of  with respect to the local unnormalized covariant basis (sometimes written as \\mathbf{e}_i  = \\frac{\\partial\\mathbf{x}}{\\partial x^i} ). The Einstein notation implies summation over , since it appears as both an upper and lower index.\n\nThe volume coefficient \\rho is a function of position which depends on the coordinate system. In Cartesian, cylindrical and polar coordinates, \\rho1, r,  and r^2\\sin{\\theta} respectively, using the same conventions as above. It can also be expressed as \\rho\n\\sqrt{\\operatorname{det}g_{ab}}, where g_{ab} is the metric tensor. Since the determinant is a scalar quantity which doesn't depend on the indices, we can suppress them and simply write \\rho\\sqrt{\\operatorname{det}g}. Another expression comes from computing the determinant of the Jacobian for transforming from Cartesian coordinates, which for n\n3 gives \\rho=\\left |\\frac{\\partial(x,y,z)}{\\partial (x^1,x^2,x^3)}\\right|.\n\nSome conventions expect all local basis elements to be normalized to unit length, as was done in the previous sections. If we write \\hat{\\mathbf{e}}_i for the normalized basis, and \\hat{F}^i for the components of  with respect to it, we have that \n\\mathbf{F}F^i \\, \\mathbf{e}_i \n\nF^i {\\lVert{\\mathbf{e}_i }\\rVert } \\, \\frac{\\mathbf{e}_i}{\\lVert{\\mathbf{e}_i }\\rVert }F^i {\\sqrt{g_{ii}}} \\, \\hat{\\mathbf{e}}_i\n\n\\hat{F}^i  \\, \\hat{\\mathbf{e}}_i, using one of the properties of the metric tensor. By dotting both sides of the last equality with the contravariant element \\hat{\\mathbf{e}}^i, we can conclude that F^i=\\frac{\\hat{F}^i}{\\sqrt{g_{ii}}}. After  substituting, the formula becomes:\n\n \\operatorname{div}(\\mathbf{F}) \\frac1{\\rho} \\frac{\\partial \\left(\\frac{\\rho}{\\sqrt{g_{ii}}}\\, \\hat{F}^i\\,\\right)}{\\partial x^i} \n\n \\frac1{\\sqrt{\\operatorname{det}g}} \\frac{\\partial \\left(\\sqrt{\\frac{\\operatorname{det}g}{g_{ii}} }\\, \\hat{F}^i\\,\\right)}{\\partial x^i}\n.\n\nSee  Generalizations for further discussion.\n\nDecomposition theorem\n\nIt can be shown that any stationary flux  that is at least twice continuously differentiable in  and vanishes sufficiently fast for  can be decomposed into an irrotational part  and a source-free part . Moreover, these parts are explicitly determined by the respective source densities (see above) and circulation densities (see the article Curl):\n\nFor the irrotational part one has\n\n \\mathbf E=-\\nabla \\Phi(\\mathbf r)\\, ,\nwith\n\\Phi (\\mathbf{r})=\\int_{\\mathbb R^3}\\,d^3\\mathbf r'\\;\\frac{\\operatorname{div} \\mathbf{v}(\\mathbf{r}')}{4\\pi\\left|\\mathbf{r}-\\mathbf{r}'\\right|}\\,.\n\nThe source-free part, , can be similarly written: one only has to replace the scalar potential  by a vector potential  and the terms  by , and the source density \nby the circulation density .\n\nThis \"decomposition theorem\" is a by-product of the stationary case of electrodynamics. It is a special case of the more general Helmholtz decomposition which works in dimensions greater than three as well.\n\nProperties \n\nThe following properties can all be derived from the ordinary differentiation rules of calculus. Most importantly, the divergence is a linear operator, i.e.\n\n\\operatorname{div}( a\\mathbf{F} + b\\mathbf{G} ) = a \\operatorname{div} \\mathbf{F} + b \\operatorname{div} \\mathbf{G}\n\nfor all vector fields  and  and all real numbers  and .\n\nThere is a product rule of the following type: if  is a scalar-valued function and  is a vector field, then\n\n\\operatorname{div}(\\varphi \\mathbf{F}) = \\operatorname{grad} \\varphi \\cdot \\mathbf{F} + \\varphi \\operatorname{div} \\mathbf{F}, \n\nor in more suggestive notation\n\n\\nabla\\cdot(\\varphi \\mathbf{F}) = (\\nabla\\varphi) \\cdot \\mathbf{F} + \\varphi (\\nabla\\cdot\\mathbf{F}). \n\nAnother product rule for the cross product of two vector fields  and  in three dimensions involves the curl and reads as follows:\n\n\\operatorname{div}(\\mathbf{F}\\times\\mathbf{G}) = \\operatorname{curl} \\mathbf{F} \\cdot\\mathbf{G} - \\mathbf{F} \\cdot \\operatorname{curl} \\mathbf{G},\n\nor\n\n\\nabla\\cdot(\\mathbf{F}\\times\\mathbf{G}) = (\\nabla\\times\\mathbf{F})\\cdot\\mathbf{G} - \\mathbf{F}\\cdot(\\nabla\\times\\mathbf{G}).\n\nThe Laplacian of a scalar field is the divergence of the field's gradient:\n\\operatorname{div}(\\nabla\\varphi) = \\Delta\\varphi.\n\nThe divergence of the curl of any vector field (in three dimensions) is equal to zero: \n\\nabla\\cdot(\\nabla\\times\\mathbf{F})=0\n\nIf a vector field  with zero divergence is defined on a ball in , then there exists some vector field  on the ball with . For regions in  more topologically complicated than this, the latter statement might be false (see Poincaré lemma). The degree of failure of the truth of the statement, measured by the homology of the chain complex\n\n \\{ \\text{scalar fields on } U \\} ~ \\overset{\\operatorname{grad}}{\\rarr} ~ \\{ \\text{vector fields on } U \\} ~ \\overset{\\operatorname{curl}}{\\rarr} ~ \\{ \\text{vector fields on } U \\} ~ \\overset{\\operatorname{div}}{\\rarr} ~ \\{ \\text{scalar fields on } U \\}\n\nserves as a nice quantification of the complicatedness of the underlying region . These are the beginnings and main motivations of de Rham cohomology.\n\nRelation with the exterior derivative\n\nOne can express the divergence as a particular case of the exterior derivative, which takes a 2-form to a 3-form in . Define the current two-form as\n j = F_1 \\, {\\rm d} y \\wedge {\\rm d} z + F_2 \\, {\\rm d} z \\wedge {\\rm d} x + F_3 \\, {\\rm d} x \\wedge {\\rm d} y .\nIt measures the amount of \"stuff\" flowing through a surface per unit time in a \"stuff fluid\" of density  moving with local velocity . Its exterior derivative  is then given by\n {\\rm d} j \\left( \\frac{\\partial F_1}{\\partial x} +\\frac{\\partial F_2}{\\partial y} +\\frac{\\partial F_3}{\\partial z} \\right) {\\rm d}x \\wedge {\\rm d}y \\wedge {\\rm d}z \n ( \\nabla \\cdot {\\mathbf F} ) \\rho .\n\nThus, the divergence of the vector field  can be expressed as:\n \\nabla \\cdot {\\mathbf F} = {\\star} {\\rm d} {\\star} \\big( {\\mathbf F}^\\flat \\big) .\nHere the superscript  is one of the two musical isomorphisms, and  is the Hodge dual. Working with the current two-form and the exterior derivative is usually easier than working with the vector field and divergence, because unlike the divergence, the exterior derivative commutes with a change of (curvilinear) coordinate system.\n\nGeneralizations\n\nThe divergence of a vector field can be defined in any number of dimensions. If \n \\mathbf{F} = ( F_1 , F_2 , \\ldots F_n ) ,\n\nin a Euclidean coordinate system with coordinates , define\n\n\\operatorname{div} \\mathbf{F} \\nabla\\cdot\\mathbf{F} \n \\frac{\\partial F_1}{\\partial x_1} + \\frac{\\partial F_2}{\\partial x_2} + \\cdots + \\frac{\\partial F_n}{\\partial x_n}. \nThe appropriate expression is more complicated in curvilinear coordinates.\n\nIn the case of one dimension,  reduces to a regular function, and the divergence reduces to the derivative.\n\nFor any , the divergence is a linear operator, and it satisfies the \"product rule\"\n\n\\nabla\\cdot(\\varphi \\mathbf{F}) = (\\nabla\\varphi) \\cdot \\mathbf{F} + \\varphi (\\nabla\\cdot\\mathbf{F}) \n\nfor any scalar-valued function .\n\nThe divergence of a vector field extends naturally to any differentiable manifold of dimension  that has a volume form (or density) , e.g. a Riemannian or Lorentzian manifold. Generalising the construction of a two-form for a vector field on , on such a manifold a vector field  defines an -form  obtained by contracting  with . The divergence is then the function defined by\n\n {\\rm d} j = ( \\operatorname{div} X ) \\mu .\n\nStandard formulas for the Lie derivative allow us to reformulate this as\n\n {\\mathcal L}_X \\mu = ( \\operatorname{div} X ) \\mu .\n\nThis means that the divergence measures the rate of expansion of a volume element as we let it flow with the vector field.\n\nOn a pseudo-Riemannian manifold, the divergence with respect to the metric volume form can be computed in terms of the Levi-Civita connection :\n\n \\operatorname{div} X \\nabla \\cdot X \n {X^a}_{;a} ,\n\nwhere the second expression is the contraction of the vector field valued 1-form  with itself and the last expression is the traditional coordinate expression from Ricci calculus.\n\nAn equivalent expression without using connection is\n\n \\operatorname{div}(X) = \\frac{1}{\\sqrt{\\operatorname{det} g}} \\partial_a \\left(\\sqrt{\\operatorname{det} g} \\, X^a\\right),\n\nwhere  is the metric and  denotes the partial derivative with respect to coordinate .\n\nDivergence can also be generalised to tensors. In Einstein notation, the divergence of a contravariant vector  is given by\n\n \\nabla \\cdot \\mathbf{F} = \\nabla_\\mu F^\\mu ,\n\nwhere  denotes the covariant derivative.\n\nEquivalently, some authors define the divergence of a mixed tensor by using the musical isomorphism : if  is a -tensor ( for the contravariant vector and  for the covariant one), then we define the divergence of  to be the -tensor\n\n ( \\operatorname{div} T ) ( Y_1 , \\ldots , Y_{q-1}) = {\\operatorname{trace}} \\Big( X \\mapsto \\sharp ( \\nabla T ) ( X , \\cdot , Y_1 , \\ldots , Y_{q-1} ) \\Big) ;\n\nthat is, we take the trace over the first two covariant indices of the covariant derivative. Divergence. http://en.wikipedia.org/?curid=8328."
  }
}
